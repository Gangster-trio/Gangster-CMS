<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>栏目选择</title>
    <meta charset="utf-8"/>
    <title></title>
    <link href="/layui/css/layui.css" rel="stylesheet"/>
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
    <script src="/util/util.js"></script>
    <script type="text/javascript" src="/layui/layui.js"></script>
    <script type="text/javascript" src="/layui/lay/modules/tree.js"></script>
</head>
<body>
<ul id="tree"></ul>
</body>
</html>
<script type="text/javascript">
    window.onload = function getData() {
        $.ajax({
            type: "get",
            url: "/category/select?id=-1",
            dataType: 'json',
            success: function (d) {
                layui.tree({
                    elem: '#tree',
                    nodes: d,
                    click: function (node) {
                        parent.$("#addCategory").val(
                            node.name
                        );
                        parent.$("#parentId").val(node.id);
                        var index = parent.layer.getFrameIndex(window.name);
                        parent.layer.close(index);
                    }
                });
            }
        });
    }

</script>